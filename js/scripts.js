"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var parallax=function(t){var e=layer.getAttribute("data-speed");layer.style.transform="translateX(".concat(t.clientX*e/1300,"px) translateY(").concat(t.clientY*e/1e3,"px)"),title.style.transform="translateX(".concat(40*t.clientX/700,"px) translateY(").concat(40*t.clientY/400,"px)"),decor2.style.transform="translateX(".concat(40*t.clientX/500,"px) translateY(").concat(30*t.clientY/600,"px)"),_toConsumableArray(title2).forEach(function(e){e.style.transform="translateX(".concat(40*t.clientX/600,"px) translateY(").concat(30*t.clientY/500,"px)")}),decor1.style.transform="translateX(".concat(40*t.clientX/350,"px) translateY(").concat(40*t.clientY/700,"px)")},layer=document.querySelector(".layer__bg"),title=document.querySelector(".parallax-logo"),title2=document.querySelectorAll(".parallax-item"),decor1=document.querySelector(".decoration-first"),decor2=document.querySelector(".decoration-second"),elementScrollTop1=document.documentElement.scrollTop;function parallaxWidthCheck(){1024<=window.innerWidth?document.addEventListener("mousemove",parallax):window.innerWidth<1024&&document.removeEventListener("mousemove",parallax)}function parallaxCheck(){var e=document.body.children[1].clientHeight,t=document.documentElement.scrollTop;e<t?document.removeEventListener("mousemove",parallax):330<t&&t<600&&1024<=window.innerWidth&&document.addEventListener("mousemove",parallax)}!function(){var e={homePage:document.querySelector("[data-home]"),libraryPage:document.querySelector("[data-library]"),iconButton:document.querySelector("[data-icon]")},t=e.homePage,n=e.libraryPage,a=e.iconButton;function i(){t.classList.contains("current")||(t.classList.add("current"),n.classList.contains("current")&&n.classList.remove("current"))}t.addEventListener("click",i),a.addEventListener("click",i),n.addEventListener("click",function(){n.classList.contains("current")||(n.classList.add("current"),t.classList.contains("current")&&t.classList.remove("current"))})}();var load=document.querySelector(".loader");function loaderShow(){load.classList.remove("is-hidden")}function loaderHide(){load.classList.add("is-hidden")}var preloader=document.getElementById("load");function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}window.addEventListener("load",function(){setTimeout(function(){setTimeout(function(){parallaxWidthCheck()},2e3),preloader.classList.add("done")},2e3)});var firebaseConfig={apiKey:"AIzaSyBNIAhHTVSS_FgmrIA50_fMlsJIzrHPLUw",authDomain:"filmgeek-js.firebaseapp.com",projectId:"filmgeek-js",storageBucket:"filmgeek-js.appspot.com",messagingSenderId:"759026227062",appId:"1:759026227062:web:451d5ef97d20e7288acc57",measurementId:"G-9HJTT3B2GK"};firebase.initializeApp(firebaseConfig),firebase.analytics(),console.log(firebase);var auth=firebase.auth();function modalClose(e){authBackdrop.classList.add("auth__backdrop--hidden")}auth.onAuthStateChanged(function(e){return console.log(e)}),auth.onAuthStateChanged(function(e){e?(btnSignOut.classList.remove("is-hidden"),btnSignUp.classList.add("is-hidden")):(btnSignOut.classList.add("is-hidden"),btnSignUp.classList.remove("is-hidden"))}),function(e){var t=document.querySelectorAll(".auth__exit");_toConsumableArray(t).forEach(function(e){e.addEventListener("click",modalClose)})}();var authBackdrop=document.querySelector(".auth__backdrop");console.log(authBackdrop);var authModalSignIn=document.querySelector(".signIn__modal"),authModalSignUp=document.querySelector(".signUp__modal"),signUpEmail=document.getElementById("authEmail"),signUpPassword=document.getElementById("authPassword"),signUpBtn=document.getElementById("signUp-submit"),authMessage=document.querySelector(".auth__message"),signInEmail=document.getElementById("signInEmail"),signInPassword=document.getElementById("signInPassword"),signInBtn=document.getElementById("signIn-submit"),btnSignIn=document.querySelector(".signIn-user"),btnSignUp=document.querySelector(".signUp-user"),btnSignOut=document.querySelector(".signOut-user");function signUp(e){console.dir(signUpEmail),auth.createUserWithEmailAndPassword(signUpEmail.value,signUpPassword.value).catch(function(e){alert(e)}),alert("done")}function signIn(e){auth.signInWithEmailAndPassword(signInEmail.value,signInPassword.value).catch(function(e){return alert(e)}),alert("Signed in"+signInEmail.value)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}btnSignOut.addEventListener("click",function(){auth.signOut()}),btnSignIn.addEventListener("click",function(){authModalSignIn.classList.remove("signIn-hidden"),authModalSignUp.classList.add("signUp-hidden"),authBackdrop.classList.remove("auth__backdrop--hidden")}),authMessage.addEventListener("click",function(){authModalSignIn.classList.remove("signIn-hidden"),authModalSignUp.classList.add("signUp-hidden")}),btnSignUp.addEventListener("click",function(){authModalSignUp.classList.remove("signUp-hidden"),authModalSignIn.classList.add("signIn-hidden"),authBackdrop.classList.remove("auth__backdrop--hidden")}),signUpBtn.addEventListener("click",signUp),signInBtn.addEventListener("click",signIn);var tns=function(){var e=window,Ma=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,16)},t=window,xa=t.cancelAnimationFrame||t.mozCancelAnimationFrame||function(e){clearTimeout(e)};function Ta(){for(var e,t,n,a=arguments[0]||{},i=1,r=arguments.length;i<r;i++)if(null!==(e=arguments[i]))for(t in e)a!==(n=e[t])&&void 0!==n&&(a[t]=n);return a}function ka(e){return 0<=["true","false"].indexOf(e)?JSON.parse(e):e}function Ra(e,t,n,a){if(a)try{e.setItem(t,n)}catch(e){}return n}function Ia(){var e=document,t=e.body;return t||((t=e.createElement("body")).fake=!0),t}var n=document.documentElement;function Ba(e){var t="";return e.fake&&(t=n.style.overflow,e.style.background="",e.style.overflow=n.style.overflow="hidden",n.appendChild(e)),t}function Pa(e,t){e.fake&&(e.remove(),n.style.overflow=t,n.offsetHeight)}function Ha(e,t,n,a){"insertRule"in e?e.insertRule(t+"{"+n+"}",a):e.addRule(t,n,a)}function Wa(e){return("insertRule"in e?e.cssRules:e.rules).length}function qa(e,t,n){for(var a=0,i=e.length;a<i;a++)t.call(n,e[a],a)}var a="classList"in document.createElement("_"),Fa=a?function(e,t){return e.classList.contains(t)}:function(e,t){return 0<=e.className.indexOf(t)},Oa=a?function(e,t){Fa(e,t)||e.classList.add(t)}:function(e,t){Fa(e,t)||(e.className+=" "+t)},Na=a?function(e,t){Fa(e,t)&&e.classList.remove(t)}:function(e,t){Fa(e,t)&&(e.className=e.className.replace(t,""))};function Da(e,t){return e.hasAttribute(t)}function za(e,t){return e.getAttribute(t)}function r(e){return void 0!==e.item}function Ga(e,t){if(e=r(e)||e instanceof Array?e:[e],"[object Object]"===Object.prototype.toString.call(t))for(var n=e.length;n--;)for(var a in t)e[n].setAttribute(a,t[a])}function Ua(e,t){e=r(e)||e instanceof Array?e:[e];for(var n=(t=t instanceof Array?t:[t]).length,a=e.length;a--;)for(var i=n;i--;)e[a].removeAttribute(t[i])}function ja(e){for(var t=[],n=0,a=e.length;n<a;n++)t.push(e[n]);return t}function Qa(e,t){"none"!==e.style.display&&(e.style.display="none")}function Ka(e,t){"none"===e.style.display&&(e.style.display="")}function Ya(e){return"none"!==window.getComputedStyle(e).display}function Xa(t){if("string"==typeof t){var n=[t],a=t.charAt(0).toUpperCase()+t.substr(1);["Webkit","Moz","ms","O"].forEach(function(e){"ms"===e&&"transform"!==t||n.push(e+a)}),t=n}for(var e=document.createElement("fakeelement"),i=(t.length,0);i<t.length;i++){var r=t[i];if(void 0!==e.style[r])return r}return!1}function Va(e,t){var n=!1;return/^Webkit/.test(e)?n="webkit"+t+"End":/^O/.test(e)?n="o"+t+"End":e&&(n=t.toLowerCase()+"end"),n}var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,o)}catch(e){}var s=!!i&&{passive:!0};function Ja(e,t,n){for(var a in t){var i=0<=["touchstart","touchmove"].indexOf(a)&&!n&&s;e.addEventListener(a,t[a],i)}}function Za(e,t){for(var n in t){var a=0<=["touchstart","touchmove"].indexOf(n)&&s;e.removeEventListener(n,t[n],a)}}function $a(){return{topics:{},on:function(e,t){this.topics[e]=this.topics[e]||[],this.topics[e].push(t)},off:function(e,t){if(this.topics[e])for(var n=0;n<this.topics[e].length;n++)if(this.topics[e][n]===t){this.topics[e].splice(n,1);break}},emit:function(t,n){n.type=t,this.topics[t]&&this.topics[t].forEach(function(e){e(n,t)})}}}Object.keys||(Object.keys=function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var c=function e(R){R=Ta({container:".my-slider",mode:"carousel",axis:"horizontal",items:3,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:3,center:!1,controls:!1,controlsPosition:"bottom",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!0,speed:1e3,autoplay:!0,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!1,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!0,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},R||{});var I=document,v=window,i={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},t={},n=R.useLocalStorage;if(n){var a=navigator.userAgent,r=new Date;try{(t=v.localStorage)?(t.setItem(r,r),n=t.getItem(r)==r,t.removeItem(r)):n=!1,n||(t={})}catch(e){n=!1}n&&(t.tnsApp&&t.tnsApp!==a&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(e){t.removeItem(e)}),localStorage.tnsApp=a)}var y=t.tC?ka(t.tC):Ra(t,"tC",function(){var e=document,t=Ia(),n=Ba(t),a=e.createElement("div"),i=!1;t.appendChild(a);try{for(var r,o="(10px * 10)",s=["calc"+o,"-moz-calc"+o,"-webkit-calc"+o],c=0;c<3;c++)if(r=s[c],a.style.width=r,100===a.offsetWidth){i=r.replace(o,"");break}}catch(e){}return t.fake?Pa(t,n):a.remove(),i}(),n),g=t.tPL?ka(t.tPL):Ra(t,"tPL",function(){var e,t=document,n=Ia(),a=Ba(n),i=t.createElement("div"),r=t.createElement("div"),o="";i.className="tns-t-subp2",r.className="tns-t-ct";for(var s=0;s<70;s++)o+="<div></div>";return r.innerHTML=o,i.appendChild(r),n.appendChild(i),e=Math.abs(i.getBoundingClientRect().left-r.children[67].getBoundingClientRect().left)<2,n.fake?Pa(n,a):i.remove(),e}(),n),B=t.tMQ?ka(t.tMQ):Ra(t,"tMQ",function(){if(window.matchMedia||window.msMatchMedia)return!0;var e,t=document,n=Ia(),a=Ba(n),i=t.createElement("div"),r=t.createElement("style"),o="@media all and (min-width:1px){.tns-mq-test{position:absolute}}";return r.type="text/css",i.className="tns-mq-test",n.appendChild(r),n.appendChild(i),r.styleSheet?r.styleSheet.cssText=o:r.appendChild(t.createTextNode(o)),e=window.getComputedStyle?window.getComputedStyle(i).position:i.currentStyle.position,n.fake?Pa(n,a):i.remove(),"absolute"===e}(),n),o=t.tTf?ka(t.tTf):Ra(t,"tTf",Xa("transform"),n),s=t.t3D?ka(t.t3D):Ra(t,"t3D",function(e){if(!e)return!1;if(!window.getComputedStyle)return!1;var t,n=document,a=Ia(),i=Ba(a),r=n.createElement("p"),o=9<e.length?"-"+e.slice(0,-9).toLowerCase()+"-":"";return o+="transform",a.insertBefore(r,null),r.style[e]="translate3d(1px,1px,1px)",t=window.getComputedStyle(r).getPropertyValue(o),a.fake?Pa(a,i):r.remove(),void 0!==t&&0<t.length&&"none"!==t}(o),n),b=t.tTDu?ka(t.tTDu):Ra(t,"tTDu",Xa("transitionDuration"),n),c=t.tTDe?ka(t.tTDe):Ra(t,"tTDe",Xa("transitionDelay"),n),L=t.tADu?ka(t.tADu):Ra(t,"tADu",Xa("animationDuration"),n),l=t.tADe?ka(t.tADe):Ra(t,"tADe",Xa("animationDelay"),n),d=t.tTE?ka(t.tTE):Ra(t,"tTE",Va(b,"Transition"),n),u=t.tAE?ka(t.tAE):Ra(t,"tAE",Va(L,"Animation"),n),f=v.console&&"function"==typeof v.console.warn,m=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],p={};if(m.forEach(function(e){if("string"==typeof R[e]){var t=R[e],n=I.querySelector(t);if(p[e]=t,!n||!n.nodeName)return void(f&&console.warn("Can't find",R[e]));R[e]=n}}),!(R.container.children.length<1)){var P=R.responsive,H=R.nested,W="carousel"===R.mode;if(P){0 in P&&(R=Ta(R,P[0]),delete P[0]);var h={};for(var w in P){var C=P[w];C="number"==typeof C?{items:C}:C,h[w]=C}P=h,h=null}if(W||function e(t){for(var n in t)W||("slideBy"===n&&(t[n]="page"),"edgePadding"===n&&(t[n]=!1),"autoHeight"===n&&(t[n]=!1)),"responsive"===n&&e(t[n])}(R),!W){R.axis="horizontal",R.slideBy="page",R.edgePadding=!1;var q=R.animateIn,F=R.animateOut,S=R.animateDelay,O=R.animateNormal}var E,N,D="horizontal"===R.axis,_=I.createElement("div"),z=I.createElement("div"),G=R.container,A=G.parentNode,M=G.outerHTML,U=G.children,j=U.length,Q=on(),K=!1;P&&An(),W&&(G.className+=" tns-vpfix");var x,T,k,Y,X,V,J,Z,$,ee=R.autoWidth,te=dn("fixedWidth"),ne=dn("edgePadding"),ae=dn("gutter"),ie=cn(),re=dn("center"),oe=ee?1:Math.floor(dn("items")),se=dn("slideBy"),ce=R.viewportMax||R.fixedWidthViewportWidth,le=dn("arrowKeys"),de=dn("speed"),ue=R.rewind,fe=!ue&&R.loop,me=dn("autoHeight"),pe=dn("controls"),he=dn("controlsText"),ve=dn("nav"),ye=dn("touch"),ge=dn("mouseDrag"),be=dn("autoplay"),Le=dn("autoplayTimeout"),we=dn("autoplayText"),Ce=dn("autoplayHoverPause"),Se=dn("autoplayResetOnVisibility"),Ee=(J=null,Z=dn("nonce"),$=document.createElement("style"),J&&$.setAttribute("media",J),Z&&$.setAttribute("nonce",Z),document.querySelector("head").appendChild($),$.sheet?$.sheet:$.styleSheet),_e=R.lazyload,Ae=R.lazyloadSelector,Me=[],xe=fe?(X=function(){{if(ee||te&&!ce)return j-1;var e=te?"fixedWidth":"items",t=[];if((te||R[e]<j)&&t.push(R[e]),P)for(var n in P){var a=P[n][e];a&&(te||a<j)&&t.push(a)}return t.length||t.push(0),Math.ceil(te?ce/Math.min.apply(null,t):Math.max.apply(null,t))}}(),V=W?Math.ceil((5*X-j)/2):4*X-j,V=Math.max(X,V),ln("edgePadding")?V+1:V):0,Te=W?j+2*xe:j+xe,ke=!(!te&&!ee||fe),Re=te?Zn():null,Ie=!W||!fe,Be=D?"left":"top",Pe="",He="",We=te?function(){return re&&!fe?j-1:Math.ceil(-Re/(te+ae))}:ee?function(){for(var e=0;e<Te;e++)if(x[e]>=-Re)return e}:function(){return re&&W&&!fe?j-1:fe||W?Math.max(0,Te-Math.ceil(oe)):Te-1},qe=nn(dn("startIndex")),Fe=qe,Oe=(tn(),0),Ne=ee?null:We(),De=R.preventActionWhenRunning,ze=R.swipeAngle,Ge=!ze||"?",Ue=!1,je=R.onInit,Qe=new $a,Ke=" tns-slider tns-"+R.mode,Ye=G.id||(Y=window.tnsId,window.tnsId=Y?Y+1:1,"tns"+window.tnsId),Xe=dn("disable"),Ve=!1,Je=R.freezable,Ze=!(!Je||ee)&&_n(),$e=!1,et={click:sa,keydown:function(e){e=ha(e);var t=[i.LEFT,i.RIGHT].indexOf(e.keyCode);0<=t&&(0===t?Ct.disabled||sa(e,-1):St.disabled||sa(e,1))}},tt={click:function(e){if(Ue){if(De)return;ra()}var t=va(e=ha(e));for(;t!==Mt&&!Da(t,"data-nav");)t=t.parentNode;if(Da(t,"data-nav")){var n=Rt=Number(za(t,"data-nav")),a=te||ee?n*j/Tt:n*oe,i=lt?n:Math.min(Math.ceil(a),j-1);oa(i,e),It===n&&(Ft&&fa(),Rt=-1)}},keydown:function(e){e=ha(e);var t=I.activeElement;if(!Da(t,"data-nav"))return;var n=[i.LEFT,i.RIGHT,i.ENTER,i.SPACE].indexOf(e.keyCode),a=Number(za(t,"data-nav"));0<=n&&(0===n?0<a&&pa(At[a-1]):1===n?a<Tt-1&&pa(At[a+1]):oa(Rt=a,e))}},nt={mouseover:function(){Ft&&(la(),Ot=!0)},mouseout:function(){Ot&&(ca(),Ot=!1)}},at={visibilitychange:function(){I.hidden?Ft&&(la(),Dt=!0):Dt&&(ca(),Dt=!1)}},it={keydown:function(e){e=ha(e);var t=[i.LEFT,i.RIGHT].indexOf(e.keyCode);0<=t&&sa(e,0===t?-1:1)}},rt={touchstart:La,touchmove:wa,touchend:Ca,touchcancel:Ca},ot={mousedown:La,mousemove:wa,mouseup:Ca,mouseleave:Ca},st=ln("controls"),ct=ln("nav"),lt=!!ee||R.navAsThumbnails,dt=ln("autoplay"),ut=ln("touch"),ft=ln("mouseDrag"),mt="tns-slide-active",pt="tns-slide-cloned",ht="tns-complete",vt={load:function(e){Hn(va(e))},error:function(e){t=va(e),Oa(t,"failed"),Wn(t);var t}},yt="force"===R.preventScrollOnTouch;if(st)var gt,bt,Lt=R.controlsContainer,wt=R.controlsContainer?R.controlsContainer.outerHTML:"",Ct=R.prevButton,St=R.nextButton,Et=R.prevButton?R.prevButton.outerHTML:"",_t=R.nextButton?R.nextButton.outerHTML:"";if(ct)var At,Mt=R.navContainer,xt=R.navContainer?R.navContainer.outerHTML:"",Tt=ee?j:Ea(),kt=0,Rt=-1,It=rn(),Bt=It,Pt="tns-nav-active",Ht="Carousel Page ",Wt=" (Current Slide)";if(dt)var qt,Ft,Ot,Nt,Dt,zt="forward"===R.autoplayDirection?1:-1,Gt=R.autoplayButton,Ut=R.autoplayButton?R.autoplayButton.outerHTML:"",jt=["<span class='tns-visually-hidden'>"," animation</span>"];if(ut||ft)var Qt,Kt,Yt={},Xt={},Vt=!1,Jt=D?function(e,t){return e.x-t.x}:function(e,t){return e.y-t.y};ee||en(Xe||Ze),o&&(Be=o,Pe="translate",He=s?(Pe+=D?"3d(":"3d(0px, ",D?", 0px, 0px)":", 0px)"):(Pe+=D?"X(":"Y(",")")),W&&(G.className=G.className.replace("tns-vpfix","")),function(){ln("gutter");_.className="tns-outer",z.className="tns-inner",_.id=Ye+"-ow",z.id=Ye+"-iw",""===G.id&&(G.id=Ye);Ke+=g||ee?" tns-subpixel":" tns-no-subpixel",Ke+=y?" tns-calc":" tns-no-calc",ee&&(Ke+=" tns-autowidth");Ke+=" tns-"+R.axis,G.className+=Ke,W?((E=I.createElement("div")).id=Ye+"-mw",E.className="tns-ovh",_.appendChild(E),E.appendChild(z)):_.appendChild(z);if(me){var e=E||z;e.className+=" tns-ah"}if(A.insertBefore(_,G),z.appendChild(G),qa(U,function(e,t){Oa(e,"tns-item"),e.id||(e.id=Ye+"-item"+t),!W&&O&&Oa(e,O),Ga(e,{"aria-hidden":"true",tabindex:"-1"})}),xe){for(var t=I.createDocumentFragment(),n=I.createDocumentFragment(),a=xe;a--;){var i=a%j,r=U[i].cloneNode(!0);if(Oa(r,pt),Ua(r,"id"),n.insertBefore(r,n.firstChild),W){var o=U[j-1-i].cloneNode(!0);Oa(o,pt),Ua(o,"id"),t.appendChild(o)}}G.insertBefore(t,G.firstChild),G.appendChild(n),U=G.children}}(),function(){if(!W)for(var e=qe,t=qe+Math.min(j,oe);e<t;e++){var n=U[e];n.style.left=100*(e-qe)/oe+"%",Oa(n,q),Na(n,O)}D&&(g||ee?(Ha(Ee,"#"+Ye+" > .tns-item","font-size:"+v.getComputedStyle(U[0]).fontSize+";",Wa(Ee)),Ha(Ee,"#"+Ye,"font-size:0;",Wa(Ee))):W&&qa(U,function(e,t){var n;e.style.marginLeft=(n=t,y?y+"("+100*n+"% / "+Te+")":100*n/Te+"%")}));if(B){if(b){var a=E&&R.autoHeight?vn(R.speed):"";Ha(Ee,"#"+Ye+"-mw",a,Wa(Ee))}a=un(R.edgePadding,R.gutter,R.fixedWidth,R.speed,R.autoHeight),Ha(Ee,"#"+Ye+"-iw",a,Wa(Ee)),W&&(a=D&&!ee?"width:"+fn(R.fixedWidth,R.gutter,R.items)+";":"",b&&(a+=vn(de)),Ha(Ee,"#"+Ye,a,Wa(Ee))),a=D&&!ee?mn(R.fixedWidth,R.gutter,R.items):"",R.gutter&&(a+=pn(R.gutter)),W||(b&&(a+=vn(de)),L&&(a+=yn(de))),a&&Ha(Ee,"#"+Ye+" > .tns-item",a,Wa(Ee))}else{W&&me&&(E.style[b]=de/1e3+"s"),z.style.cssText=un(ne,ae,te,me),W&&D&&!ee&&(G.style.width=fn(te,ae,oe));var a=D&&!ee?mn(te,ae,oe):"";ae&&(a+=pn(ae)),a&&Ha(Ee,"#"+Ye+" > .tns-item",a,Wa(Ee))}if(P&&B)for(var i in P){i=parseInt(i);var r=P[i],a="",o="",s="",c="",l="",d=ee?null:dn("items",i),u=dn("fixedWidth",i),f=dn("speed",i),m=dn("edgePadding",i),p=dn("autoHeight",i),h=dn("gutter",i);b&&E&&dn("autoHeight",i)&&"speed"in r&&(o="#"+Ye+"-mw{"+vn(f)+"}"),("edgePadding"in r||"gutter"in r)&&(s="#"+Ye+"-iw{"+un(m,h,u,f,p)+"}"),W&&D&&!ee&&("fixedWidth"in r||"items"in r||te&&"gutter"in r)&&(c="width:"+fn(u,h,d)+";"),b&&"speed"in r&&(c+=vn(f)),c&&(c="#"+Ye+"{"+c+"}"),("fixedWidth"in r||te&&"gutter"in r||!W&&"items"in r)&&(l+=mn(u,h,d)),"gutter"in r&&(l+=pn(h)),!W&&"speed"in r&&(b&&(l+=vn(f)),L&&(l+=yn(f))),l&&(l="#"+Ye+" > .tns-item{"+l+"}"),(a=o+s+c+l)&&Ee.insertRule("@media (min-width: "+i/16+"em) {"+a+"}",Ee.cssRules.length)}}(),gn();var Zt=fe?W?function(){var e=Oe,t=Ne;e+=se,t-=se,ne?(e+=1,t-=1):te&&(ie+ae)%(te+ae)&&(t-=1),xe&&(t<qe?qe-=j:qe<e&&(qe+=j))}:function(){if(Ne<qe)for(;Oe+j<=qe;)qe-=j;else if(qe<Oe)for(;qe<=Ne-j;)qe+=j}:function(){qe=Math.max(Oe,Math.min(Ne,qe))},$t=W?function(){var t,n,a,i,e,r,o,s,c,l,d;Vn(G,""),b||!de?(ta(),de&&Ya(G)||ra()):(t=G,n=Be,a=Pe,i=He,e=$n(),r=de,o=ra,s=Math.min(r,10),c=0<=e.indexOf("%")?"%":"px",e=e.replace(c,""),l=Number(t.style[n].replace(a,"").replace(i,"").replace(c,"")),d=(e-l)/r*s,setTimeout(function e(){r-=s,l+=d,t.style[n]=a+l+c+i,0<r?setTimeout(e,s):o()},s)),D||Sa()}:function(){Me=[];var e={};e[d]=e[u]=ra,Za(U[Fe],e),Ja(U[qe],e),na(Fe,q,F,!0),na(qe,O,q),d&&u&&de&&Ya(G)||ra()};return{version:"2.9.3",getInfo:Aa,events:Qe,goTo:oa,play:function(){be&&!Ft&&(ua(),Nt=!1)},pause:function(){Ft&&(fa(),Nt=!0)},isOn:K,updateSliderHeight:zn,refresh:gn,destroy:function(){if(Ee.disabled=!0,Ee.ownerNode&&Ee.ownerNode.remove(),Za(v,{resize:Sn}),le&&Za(I,it),Lt&&Za(Lt,et),Mt&&Za(Mt,tt),Za(G,nt),Za(G,at),Gt&&Za(Gt,{click:ma}),be&&clearInterval(qt),W&&d){var e={};e[d]=ra,Za(G,e)}ye&&Za(G,rt),ge&&Za(G,ot);var r=[M,wt,Et,_t,xt,Ut];for(var t in m.forEach(function(e,t){var n="container"===e?_:R[e];if("object"===_typeof(n)&&n){var a=!!n.previousElementSibling&&n.previousElementSibling,i=n.parentNode;n.outerHTML=r[t],R[e]=a?a.nextElementSibling:i.firstElementChild}}),m=q=F=S=O=D=_=z=G=A=M=U=j=N=Q=ee=te=ne=ae=ie=oe=se=ce=le=de=ue=fe=me=Ee=_e=x=Me=xe=Te=ke=Re=Ie=Be=Pe=He=We=qe=Fe=Oe=Ne=ze=Ge=Ue=je=Qe=Ke=Ye=Xe=Ve=Je=Ze=$e=et=tt=nt=at=it=rt=ot=st=ct=lt=dt=ut=ft=mt=ht=vt=T=pe=he=Lt=wt=Ct=St=gt=bt=ve=Mt=xt=At=Tt=kt=Rt=It=Bt=Pt=Ht=Wt=be=Le=zt=we=Ce=Gt=Ut=Se=jt=qt=Ft=Ot=Nt=Dt=Yt=Xt=Qt=Vt=Kt=Jt=ye=ge=null,this)"rebuild"!==t&&(this[t]=null);K=!1},rebuild:function(){return e(Ta(R,p))}}}function en(e){e&&(pe=ve=ye=ge=le=be=Ce=Se=!1)}function tn(){for(var e=W?qe-xe:qe;e<0;)e+=j;return e%j+1}function nn(e){return e=e?Math.max(0,Math.min(fe?j-1:j-oe,e)):0,W?e+xe:e}function an(e){for(null==e&&(e=qe),W&&(e-=xe);e<0;)e+=j;return Math.floor(e%j)}function rn(){var e,t=an();return e=lt?t:te||ee?Math.ceil((t+1)*Tt/j-1):Math.floor(t/oe),!fe&&W&&qe===Ne&&(e=Tt-1),e}function on(){return v.innerWidth||I.documentElement.clientWidth||I.body.clientWidth}function sn(e){return"top"===e?"afterbegin":"beforeend"}function cn(){var e=ne?2*ne-ae:0;return function e(t){if(null!=t){var n,a,i=I.createElement("div");return t.appendChild(i),a=(n=i.getBoundingClientRect()).right-n.left,i.remove(),a||e(t.parentNode)}}(A)-e}function ln(e){if(R[e])return!0;if(P)for(var t in P)if(P[t][e])return!0;return!1}function dn(e,t){if(null==t&&(t=Q),"items"===e&&te)return Math.floor((ie+ae)/(te+ae))||1;var n=R[e];if(P)for(var a in P)t>=parseInt(a)&&e in P[a]&&(n=P[a][e]);return"slideBy"===e&&"page"===n&&(n=dn("items")),W||"slideBy"!==e&&"items"!==e||(n=Math.floor(n)),n}function un(e,t,n,a,i){var r="";if(void 0!==e){var o=e;t&&(o-=t),r=D?"margin: 0 "+o+"px 0 "+e+"px;":"margin: "+e+"px 0 "+o+"px 0;"}else if(t&&!n){var s="-"+t+"px";r="margin: 0 "+(D?s+" 0 0":"0 "+s+" 0")+";"}return!W&&i&&b&&a&&(r+=vn(a)),r}function fn(e,t,n){return e?(e+t)*Te+"px":y?y+"("+100*Te+"% / "+n+")":100*Te/n+"%"}function mn(e,t,n){var a;if(e)a=e+t+"px";else{W||(n=Math.floor(n));var i=W?Te:n;a=y?y+"(100% / "+i+")":100/i+"%"}return a="width:"+a,"inner"!==H?a+";":a+" !important;"}function pn(e){var t="";!1!==e&&(t=(D?"padding-":"margin-")+(D?"right":"bottom")+": "+e+"px;");return t}function hn(e,t){var n=e.substring(0,e.length-t).toLowerCase();return n&&(n="-"+n+"-"),n}function vn(e){return hn(b,18)+"transition-duration:"+e/1e3+"s;"}function yn(e){return hn(L,17)+"animation-duration:"+e/1e3+"s;"}function gn(){if(ln("autoHeight")||ee||!D){var e=G.querySelectorAll("img");qa(e,function(e){var t=e.src;_e||(t&&t.indexOf("data:image")<0?(e.src="",Ja(e,vt),Oa(e,"loading"),e.src=t):Hn(e))}),Ma(function(){On(ja(e),function(){T=!0})}),ln("autoHeight")&&(e=qn(qe,Math.min(qe+oe-1,Te-1))),_e?bn():Ma(function(){On(ja(e),bn)})}else W&&ea(),wn(),Cn()}function bn(){if(ee&&1<j){var a=fe?qe:j-1;!function e(){var t=U[a].getBoundingClientRect().left,n=U[a-1].getBoundingClientRect().right;Math.abs(t-n)<=1?Ln():setTimeout(function(){e()},16)}()}else Ln()}function Ln(){D&&!ee||(Gn(),ee?(Re=Zn(),Je&&(Ze=_n()),Ne=We(),en(Xe||Ze)):Sa()),W&&ea(),wn(),Cn()}function wn(){if(Un(),_.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+In()+"</span>  of "+j+"</div>"),k=_.querySelector(".tns-liveregion .current"),dt){var e=be?"stop":"start";Gt?Ga(Gt,{"data-action":e}):R.autoplayButtonOutput&&(_.insertAdjacentHTML(sn(R.autoplayPosition),'<button type="button" data-action="'+e+'">'+jt[0]+e+jt[1]+we[0]+"</button>"),Gt=_.querySelector("[data-action]")),Gt&&Ja(Gt,{click:ma}),be&&(ua(),Ce&&Ja(G,nt),Se&&Ja(G,at))}if(ct){if(Mt)Ga(Mt,{"aria-label":"Carousel Pagination"}),qa(At=Mt.children,function(e,t){Ga(e,{"data-nav":t,tabindex:"-1","aria-label":Ht+(t+1),"aria-controls":Ye})});else{for(var t="",n=lt?"":'style="display:none"',a=0;a<j;a++)t+='<button type="button" data-nav="'+a+'" tabindex="-1" aria-controls="'+Ye+'" '+n+' aria-label="'+Ht+(a+1)+'"></button>';t='<div class="tns-nav" aria-label="Carousel Pagination">'+t+"</div>",_.insertAdjacentHTML(sn(R.navPosition),t),Mt=_.querySelector(".tns-nav"),At=Mt.children}if(_a(),b){var i=b.substring(0,b.length-18).toLowerCase(),r="transition: all "+de/1e3+"s";i&&(r="-"+i+"-"+r),Ha(Ee,"[aria-controls^="+Ye+"-item]",r,Wa(Ee))}Ga(At[It],{"aria-label":Ht+(It+1)+Wt}),Ua(At[It],"tabindex"),Oa(At[It],Pt),Ja(Mt,tt)}st&&(Lt||Ct&&St||(_.insertAdjacentHTML(sn(R.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+Ye+'">'+he[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+Ye+'">'+he[1]+"</button></div>"),Lt=_.querySelector(".tns-controls")),Ct&&St||(Ct=Lt.children[0],St=Lt.children[1]),R.controlsContainer&&Ga(Lt,{"aria-label":"Carousel Navigation",tabindex:"0"}),(R.controlsContainer||R.prevButton&&R.nextButton)&&Ga([Ct,St],{"aria-controls":Ye,tabindex:"-1"}),(R.controlsContainer||R.prevButton&&R.nextButton)&&(Ga(Ct,{"data-controls":"prev"}),Ga(St,{"data-controls":"next"})),gt=Qn(Ct),bt=Qn(St),Xn(),Lt?Ja(Lt,et):(Ja(Ct,et),Ja(St,et))),Mn()}function Cn(){if(W&&d){var e={};e[d]=ra,Ja(G,e)}ye&&Ja(G,rt,R.preventScrollOnTouch),ge&&Ja(G,ot),le&&Ja(I,it),"inner"===H?Qe.on("outerResized",function(){En(),Qe.emit("innerLoaded",Aa())}):(P||te||ee||me||!D)&&Ja(v,{resize:Sn}),me&&("outer"===H?Qe.on("innerLoaded",Fn):Xe||Fn()),Pn(),Xe?kn():Ze&&Tn(),Qe.on("indexChanged",Nn),"inner"===H&&Qe.emit("innerLoaded",Aa()),"function"==typeof je&&je(Aa()),K=!0}function Sn(e){Ma(function(){En(ha(e))})}function En(e){if(K){"outer"===H&&Qe.emit("outerResized",Aa(e)),Q=on();var t,n=N,a=!1;P&&(An(),(t=n!==N)&&Qe.emit("newBreakpointStart",Aa(e)));var i,r,o,s,c=oe,l=Xe,d=Ze,u=le,f=pe,m=ve,p=ye,h=ge,v=be,y=Ce,g=Se,b=qe;if(t){var L=te,w=me,C=he,S=re,E=we;if(!B)var _=ae,A=ne}if(le=dn("arrowKeys"),pe=dn("controls"),ve=dn("nav"),ye=dn("touch"),re=dn("center"),ge=dn("mouseDrag"),be=dn("autoplay"),Ce=dn("autoplayHoverPause"),Se=dn("autoplayResetOnVisibility"),t&&(Xe=dn("disable"),te=dn("fixedWidth"),de=dn("speed"),me=dn("autoHeight"),he=dn("controlsText"),we=dn("autoplayText"),Le=dn("autoplayTimeout"),B||(ne=dn("edgePadding"),ae=dn("gutter"))),en(Xe),ie=cn(),D&&!ee||Xe||(Gn(),D||(Sa(),a=!0)),(te||ee)&&(Re=Zn(),Ne=We()),(t||te)&&(oe=dn("items"),se=dn("slideBy"),(r=oe!==c)&&(te||ee||(Ne=We()),Zt())),t&&Xe!==l&&(Xe?kn():function(){if(!Ve)return;if(Ee.disabled=!1,G.className+=Ke,ea(),fe)for(var e=xe;e--;)W&&Ka(U[e]),Ka(U[Te-e-1]);if(!W)for(var t=qe,n=qe+j;t<n;t++){var a=U[t],i=t<qe+oe?q:O;a.style.left=100*(t-qe)/oe+"%",Oa(a,i)}xn(),Ve=!1}()),Je&&(t||te||ee)&&(Ze=_n())!==d&&(Ze?(ta($n(nn(0))),Tn()):(!function(){if(!$e)return;ne&&B&&(z.style.margin="");if(xe)for(var e="tns-transparent",t=xe;t--;)W&&Na(U[t],e),Na(U[Te-t-1],e);xn(),$e=!1}(),a=!0)),en(Xe||Ze),be||(Ce=Se=!1),le!==u&&(le?Ja(I,it):Za(I,it)),pe!==f&&(pe?Lt?Ka(Lt):(Ct&&Ka(Ct),St&&Ka(St)):Lt?Qa(Lt):(Ct&&Qa(Ct),St&&Qa(St))),ve!==m&&(ve?(Ka(Mt),_a()):Qa(Mt)),ye!==p&&(ye?Ja(G,rt,R.preventScrollOnTouch):Za(G,rt)),ge!==h&&(ge?Ja(G,ot):Za(G,ot)),be!==v&&(be?(Gt&&Ka(Gt),Ft||Nt||ua()):(Gt&&Qa(Gt),Ft&&fa())),Ce!==y&&(Ce?Ja(G,nt):Za(G,nt)),Se!==g&&(Se?Ja(I,at):Za(I,at)),t){if(te===L&&re===S||(a=!0),me!==w&&(me||(z.style.height="")),pe&&he!==C&&(Ct.innerHTML=he[0],St.innerHTML=he[1]),Gt&&we!==E){var M=be?1:0,x=Gt.innerHTML,T=x.length-E[M].length;x.substring(T)===E[M]&&(Gt.innerHTML=x.substring(0,T)+we[M])}}else re&&(te||ee)&&(a=!0);if((r||te&&!ee)&&(Tt=Ea(),_a()),(i=qe!==b)?(Qe.emit("indexChanged",Aa()),a=!0):r?i||Nn():(te||ee)&&(Pn(),Un(),Rn()),r&&!W&&function(){for(var e=qe+Math.min(j,oe),t=Te;t--;){var n=U[t];qe<=t&&t<e?(Oa(n,"tns-moving"),n.style.left=100*(t-qe)/oe+"%",Oa(n,q),Na(n,O)):n.style.left&&(n.style.left="",Oa(n,O),Na(n,q)),Na(n,F)}setTimeout(function(){qa(U,function(e){Na(e,"tns-moving")})},300)}(),!Xe&&!Ze){if(t&&!B&&(ne===A&&ae===_||(z.style.cssText=un(ne,ae,te,de,me)),D)){W&&(G.style.width=fn(te,ae,oe));var k=mn(te,ae,oe)+pn(ae);s=Wa(o=Ee)-1,"deleteRule"in o?o.deleteRule(s):o.removeRule(s),Ha(Ee,"#"+Ye+" > .tns-item",k,Wa(Ee))}me&&Fn(),a&&(ea(),Fe=qe)}t&&Qe.emit("newBreakpointEnd",Aa(e))}}function _n(){if(!te&&!ee)return j<=(re?oe-(oe-1)/2:oe);var e=te?(te+ae)*j:x[j],t=ne?ie+2*ne:ie+ae;return re&&(t-=te?(ie-te)/2:(ie-(x[qe+1]-x[qe]-ae))/2),e<=t}function An(){for(var e in N=0,P)(e=parseInt(e))<=Q&&(N=e)}function Mn(){!be&&Gt&&Qa(Gt),!ve&&Mt&&Qa(Mt),pe||(Lt?Qa(Lt):(Ct&&Qa(Ct),St&&Qa(St)))}function xn(){be&&Gt&&Ka(Gt),ve&&Mt&&Ka(Mt),pe&&(Lt?Ka(Lt):(Ct&&Ka(Ct),St&&Ka(St)))}function Tn(){if(!$e){if(ne&&(z.style.margin="0px"),xe)for(var e="tns-transparent",t=xe;t--;)W&&Oa(U[t],e),Oa(U[Te-t-1],e);Mn(),$e=!0}}function kn(){if(!Ve){if(Ee.disabled=!0,G.className=G.className.replace(Ke.substring(1),""),Ua(G,["style"]),fe)for(var e=xe;e--;)W&&Qa(U[e]),Qa(U[Te-e-1]);if(D&&W||Ua(z,["style"]),!W)for(var t=qe,n=qe+j;t<n;t++){var a=U[t];Ua(a,["style"]),Na(a,q),Na(a,O)}Mn(),Ve=!0}}function Rn(){var e=In();k.innerHTML!==e&&(k.innerHTML=e)}function In(){var e=Bn(),t=e[0]+1,n=e[1]+1;return t===n?t+"":t+" to "+n}function Bn(e){null==e&&(e=$n());var n,a,i,r=qe;if(re||ne?(ee||te)&&(a=-(parseFloat(e)+ne),i=a+ie+2*ne):ee&&(a=x[qe],i=a+ie),ee)x.forEach(function(e,t){t<Te&&((re||ne)&&e<=a+.5&&(r=t),.5<=i-e&&(n=t))});else{if(te){var t=te+ae;n=re||ne?(r=Math.floor(a/t),Math.ceil(i/t-1)):r+Math.ceil(ie/t)-1}else if(re||ne){var o=oe-1;if(n=re?(r-=o/2,qe+o/2):qe+o,ne){var s=ne*oe/ie;r-=s,n+=s}r=Math.floor(r),n=Math.ceil(n)}else n=r+oe-1;r=Math.max(r,0),n=Math.min(n,Te-1)}return[r,n]}function Pn(){if(_e&&!Xe){var e=Bn();e.push(Ae),qn.apply(null,e).forEach(function(e){if(!Fa(e,ht)){var t={};t[d]=function(e){e.stopPropagation()},Ja(e,t),Ja(e,vt),e.src=za(e,"data-src");var n=za(e,"data-srcset");n&&(e.srcset=n),Oa(e,"loading")}})}}function Hn(e){Oa(e,"loaded"),Wn(e)}function Wn(e){Oa(e,ht),Na(e,"loading"),Za(e,vt)}function qn(e,t,n){var a=[];for(n||(n="img");e<=t;)qa(U[e].querySelectorAll(n),function(e){a.push(e)}),e++;return a}function Fn(){var e=qn.apply(null,Bn());Ma(function(){On(e,zn)})}function On(n,e){return T?e():(n.forEach(function(e,t){!_e&&e.complete&&Wn(e),Fa(e,ht)&&n.splice(t,1)}),n.length?void Ma(function(){On(n,e)}):e())}function Nn(){Pn(),Un(),Rn(),Xn(),function(){if(ve&&(It=0<=Rt?Rt:rn(),Rt=-1,It!==Bt)){var e=At[Bt],t=At[It];Ga(e,{tabindex:"-1","aria-label":Ht+(Bt+1)}),Na(e,Pt),Ga(t,{"aria-label":Ht+(It+1)+Wt}),Ua(t,"tabindex"),Oa(t,Pt),Bt=It}}()}function Dn(e,t){for(var n=[],a=e,i=Math.min(e+t,Te);a<i;a++)n.push(U[a].offsetHeight);return Math.max.apply(null,n)}function zn(){var e=me?Dn(qe,oe):Dn(xe,j),t=E||z;t.style.height!==e&&(t.style.height=e+"px")}function Gn(){x=[0];var n=D?"left":"top",a=D?"right":"bottom",i=U[0].getBoundingClientRect()[n];qa(U,function(e,t){t&&x.push(e.getBoundingClientRect()[n]-i),t===Te-1&&x.push(e.getBoundingClientRect()[a]-i)})}function Un(){var e=Bn(),n=e[0],a=e[1];qa(U,function(e,t){n<=t&&t<=a?Da(e,"aria-hidden")&&(Ua(e,["aria-hidden","tabindex"]),Oa(e,mt)):Da(e,"aria-hidden")||(Ga(e,{"aria-hidden":"true",tabindex:"-1"}),Na(e,mt))})}function jn(e){return e.nodeName.toLowerCase()}function Qn(e){return"button"===jn(e)}function Kn(e){return"true"===e.getAttribute("aria-disabled")}function Yn(e,t,n){e?t.disabled=n:t.setAttribute("aria-disabled",n.toString())}function Xn(){if(pe&&!ue&&!fe){var e=gt?Ct.disabled:Kn(Ct),t=bt?St.disabled:Kn(St),n=qe<=Oe,a=!ue&&Ne<=qe;n&&!e&&Yn(gt,Ct,!0),!n&&e&&Yn(gt,Ct,!1),a&&!t&&Yn(bt,St,!0),!a&&t&&Yn(bt,St,!1)}}function Vn(e,t){b&&(e.style[b]=t)}function Jn(e){return null==e&&(e=qe),ee?(ie-(ne?ae:0)-(x[e+1]-x[e]-ae))/2:te?(ie-te)/2:(oe-1)/2}function Zn(){var e=ie+(ne?ae:0)-(te?(te+ae)*Te:x[Te]);return re&&!fe&&(e=te?-(te+ae)*(Te-1)-Jn():Jn(Te-1)-x[Te-1]),0<e&&(e=0),e}function $n(e){var t;if(null==e&&(e=qe),D&&!ee)if(te)t=-(te+ae)*e,re&&(t+=Jn());else{var n=o?Te:oe;re&&(e-=Jn()),t=100*-e/n}else t=-x[e],re&&ee&&(t+=Jn());return ke&&(t=Math.max(t,Re)),t+=!D||ee||te?"px":"%"}function ea(e){Vn(G,"0s"),ta(e)}function ta(e){null==e&&(e=$n()),G.style[Be]=Pe+e+He}function na(e,t,n,a){var i=e+oe;fe||(i=Math.min(i,Te));for(var r=e;r<i;r++){var o=U[r];a||(o.style.left=100*(r-qe)/oe+"%"),S&&c&&(o.style[c]=o.style[l]=S*(r-e)/1e3+"s"),Na(o,t),Oa(o,n),a&&Me.push(o)}}function aa(e,t){Ie&&Zt(),(qe!==Fe||t)&&(Qe.emit("indexChanged",Aa()),Qe.emit("transitionStart",Aa()),me&&Fn(),Ft&&e&&0<=["click","keydown"].indexOf(e.type)&&fa(),Ue=!0,$t())}function ia(e){return e.toLowerCase().replace(/-/g,"")}function ra(e){if(W||Ue){if(Qe.emit("transitionEnd",Aa(e)),!W&&0<Me.length)for(var t=0;t<Me.length;t++){var n=Me[t];n.style.left="",l&&c&&(n.style[l]="",n.style[c]=""),Na(n,F),Oa(n,O)}if(!e||!W&&e.target.parentNode===G||e.target===G&&ia(e.propertyName)===ia(Be)){if(!Ie){var a=qe;Zt(),qe!==a&&(Qe.emit("indexChanged",Aa()),ea())}"inner"===H&&Qe.emit("innerLoaded",Aa()),Ue=!1,Fe=qe}}}function oa(e,t){if(!Ze)if("prev"===e)sa(t,-1);else if("next"===e)sa(t,1);else{if(Ue){if(De)return;ra()}var n=an(),a=0;if("first"===e?a=-n:"last"===e?a=W?j-oe-n:j-1-n:("number"!=typeof e&&(e=parseInt(e)),isNaN(e)||(t||(e=Math.max(0,Math.min(j-1,e))),a=e-n)),!W&&a&&Math.abs(a)<oe){var i=0<a?1:-1;a+=Oe<=qe+a-j?j*i:2*j*i*-1}qe+=a,W&&fe&&(qe<Oe&&(qe+=j),Ne<qe&&(qe-=j)),an(qe)!==an(Fe)&&aa(t)}}function sa(e,t){if(Ue){if(De)return;ra()}var n;if(!t){for(var a=va(e=ha(e));a!==Lt&&[Ct,St].indexOf(a)<0;)a=a.parentNode;var i=[Ct,St].indexOf(a);0<=i&&(n=!0,t=0===i?-1:1)}if(ue){if(qe===Oe&&-1===t)return void oa("last",e);if(qe===Ne&&1===t)return void oa("first",e)}t&&(qe+=se*t,ee&&(qe=Math.floor(qe)),aa(n||e&&"keydown"===e.type?e:null))}function ca(){qt=setInterval(function(){sa(null,zt)},Le),Ft=!0}function la(){clearInterval(qt),Ft=!1}function da(e,t){Ga(Gt,{"data-action":e}),Gt.innerHTML=jt[0]+e+jt[1]+t}function ua(){ca(),Gt&&da("stop",we[1])}function fa(){la(),Gt&&da("start",we[0])}function ma(){Nt=Ft?(fa(),!0):(ua(),!1)}function pa(e){e.focus()}function ha(e){return ya(e=e||v.event)?e.changedTouches[0]:e}function va(e){return e.target||v.event.srcElement}function ya(e){return 0<=e.type.indexOf("touch")}function ga(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ba(){return i=Xt.y-Yt.y,r=Xt.x-Yt.x,e=Math.atan2(i,r)*(180/Math.PI),t=ze,n=!1,a=Math.abs(90-Math.abs(e)),90-t<=a?n="horizontal":a<=t&&(n="vertical"),n===R.axis;var e,t,n,a,i,r}function La(e){if(Ue){if(De)return;ra()}be&&Ft&&la(),Vt=!0,Kt&&(xa(Kt),Kt=null);var t=ha(e);Qe.emit(ya(e)?"touchStart":"dragStart",Aa(e)),!ya(e)&&0<=["img","a"].indexOf(jn(va(e)))&&ga(e),Xt.x=Yt.x=t.clientX,Xt.y=Yt.y=t.clientY,W&&(Qt=parseFloat(G.style[Be].replace(Pe,"")),Vn(G,"0s"))}function wa(e){if(Vt){var t=ha(e);Xt.x=t.clientX,Xt.y=t.clientY,W?Kt||(Kt=Ma(function(){!function e(t){if(!Ge)return void(Vt=!1);xa(Kt);Vt&&(Kt=Ma(function(){e(t)}));"?"===Ge&&(Ge=ba());if(Ge){!yt&&ya(t)&&(yt=!0);try{t.type&&Qe.emit(ya(t)?"touchMove":"dragMove",Aa(t))}catch(e){}var n=Qt,a=Jt(Xt,Yt);if(!D||te||ee)n+=a,n+="px";else{var i=o?a*oe*100/((ie+ae)*Te):100*a/(ie+ae);n+=i,n+="%"}G.style[Be]=Pe+n+He}}(e)})):("?"===Ge&&(Ge=ba()),Ge&&(yt=!0)),("boolean"!=typeof e.cancelable||e.cancelable)&&yt&&e.preventDefault()}}function Ca(a){if(Vt){Kt&&(xa(Kt),Kt=null),W&&Vn(G,""),Vt=!1;var e=ha(a);Xt.x=e.clientX,Xt.y=e.clientY;var i=Jt(Xt,Yt);if(Math.abs(i)){if(!ya(a)){var n=va(a);Ja(n,{click:function e(t){ga(t),Za(n,{click:e})}})}W?Kt=Ma(function(){if(D&&!ee){var e=-i*oe/(ie+ae);e=0<i?Math.floor(e):Math.ceil(e),qe+=e}else{var t=-(Qt+i);if(t<=0)qe=Oe;else if(t>=x[Te-1])qe=Ne;else for(var n=0;n<Te&&t>=x[n];)t>x[qe=n]&&i<0&&(qe+=1),n++}aa(a,i),Qe.emit(ya(a)?"touchEnd":"dragEnd",Aa(a))}):Ge&&sa(a,0<i?-1:1)}}"auto"===R.preventScrollOnTouch&&(yt=!1),ze&&(Ge="?"),be&&!Ft&&ca()}function Sa(){(E||z).style.height=x[qe+oe]-x[qe]+"px"}function Ea(){var e=te?(te+ae)*j/ie:j/oe;return Math.min(Math.ceil(e),j)}function _a(){if(ve&&!lt&&Tt!==kt){var e=kt,t=Tt,n=Ka;for(Tt<kt&&(e=Tt,t=kt,n=Qa);e<t;)n(At[e]),e++;kt=Tt}}function Aa(e){return{container:G,slideItems:U,navContainer:Mt,navItems:At,controlsContainer:Lt,hasControls:st,prevButton:Ct,nextButton:St,items:oe,slideBy:se,cloneCount:xe,slideCount:j,slideCountNew:Te,index:qe,indexCached:Fe,displayIndex:tn(),navCurrentIndex:It,navCurrentIndexCached:Bt,pages:Tt,pagesCached:kt,sheet:Ee,isOn:K,event:e||{}}}f&&console.warn("No slides found in",R.container)};return c},refs={loaderPartOne:document.querySelectorAll(".bars-common"),loaderPartTwo:document.querySelectorAll(".squares-common"),errorNotification:document.querySelector(".main__error-notification"),main:document.querySelector(".main"),detailsSection:document.querySelector(".details-page"),libraryFilrt:document.querySelector(".library-filter"),paginationWrapper:document.querySelector(".pagination"),ulForCards:document.querySelector(".gallery__list"),reviewCard:document.querySelector(".review"),sliderContainer:document.querySelector(".my-slider"),btnTop:document.querySelector(".main__btn-scroll"),modalBtn:document.querySelector(".backdrop__modal__btn"),backdrop:document.querySelector(".backdrop"),player:document.querySelector("#player"),form:document.querySelector(".main__search-form"),btnMyLibrary:document.querySelector(".library"),filmsLibrary:document.querySelector(".js-gallery"),btnWatched:document.querySelector(".btnWatched"),btnQueue:document.querySelector(".btnQueue"),thrillerRef:document.querySelector("[data-thriller]"),comedyRef:document.querySelector("[data-comedy]"),animationRef:document.querySelector("[data-animation]"),actionRef:document.querySelector("[data-action]"),westernRef:document.querySelector("[data-western]"),fantasyRef:document.querySelector("[data-fantasy]"),dramaRef:document.querySelector("[data-drama]"),logoText:document.querySelector("[data-logoText]"),homePage:document.querySelector("[data-home]"),libraryPage:document.querySelector("[data-library]"),layer:document.querySelector(".layer__bg"),title:document.querySelector(".parallax-logo"),title2:document.querySelectorAll(".parallax-item"),decor1:document.querySelector(".decoration-first"),decor2:document.querySelector(".decoration-second"),iconButton:document.querySelector("[data-icon]")},loaderPartOne=refs.loaderPartOne,loaderPartTwo=refs.loaderPartTwo,errorNotification=refs.errorNotification,main=refs.main,detailsSection=refs.detailsSection,libraryFilrt=refs.libraryFilrt,paginationWrapper=refs.paginationWrapper,ulForCards=refs.ulForCards,btnTop=refs.btnTop,modalBtn=refs.modalBtn,backdrop=refs.backdrop,player=refs.player,form=refs.form,btnMyLibrary=refs.btnMyLibrary,filmsLibrary=refs.filmsLibrary,btnWatched=refs.btnWatched,btnQueue=refs.btnQueue,thrillerRef=refs.thrillerRef,comedyRef=refs.comedyRef,actionRef=refs.actionRef,animationRef=refs.animationRef,westernRef=refs.westernRef,fantasyRef=refs.fantasyRef,dramaRef=refs.dramaRef,logoText=refs.logoText,homePage=refs.homePage,libraryPage=refs.libraryPage,iconButton=(layer=refs.layer,title=refs.title,title2=refs.title2,decor1=refs.decor1,decor2=refs.decor2,refs.iconButton),reviewCard=refs.reviewCard,sliderContainer=refs.sliderContainer;function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var MovieApi=function(){function i(e,t,n,a){_classCallCheck(this,i),this.API_KEY=e,this.BASE_URL="https://api.themoviedb.org/3/",this.IMAGE_BASE_URL="https://image.tmdb.org/t/p/",this.DEFAULT_IMAGE="./images/default_backdrop2.jpg",this.DEFAULT_POSTER="./images/default_poster.jpg",this.VIDEO_BASE_URL="https://api.themoviedb.org/3/movie/",this.movieID=0,this.searchMode="popular",this.popularFilmItem=[],this.watchedList=[],this.queueList=[],this.genres=[],this.actors=[],this.currentPage=1,this.params={generalSearchUrl:"search/movie?",popularSearchUrl:"movie/popular?",genreSearchUrl:"genre/movie/list?",byGenreSearchUrl:"discover/movie?",query:"",_page:1,lastPage:""},this.pagination={window:5,cardContainer:n,paginationContainer:t,sliderContainer:a},this.imgCards={defaultBackdropImg:"",defaultPosterImg:"",currentSizes:{backdropSize:"",posterSize:""},backdropSizes:{mobile:"w500",tablet:"w500",desktop:"w500"},posterSizes:{mobile:"w342",tablet:"w500",desktop:"w780"}}}return _createClass(i,[{key:"activeLoader",value:function(){this.pagination.paginationContainer.classList.add("is-hidden"),[].concat(_toConsumableArray(loaderPartOne),_toConsumableArray(loaderPartTwo)).map(function(e){e.classList.remove("is-hidden")})}},{key:"hideLoader",value:function(){this.pagination.paginationContainer.classList.remove("is-hidden"),[].concat(_toConsumableArray(loaderPartOne),_toConsumableArray(loaderPartTwo)).map(function(e){e.classList.add("is-hidden")})}},{key:"fetchVideoById",value:function(){return fetch("".concat(this.VIDEO_BASE_URL).concat(this.movieID,"/videos?api_key=").concat(this.API_KEY)).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){var t=e.results;return 0===t.length&&onHandleTrailerError(),t[0]}).then(function(e){return e.key})}},{key:"dailyBestMovie",value:function(){var n=this;return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(this.API_KEY)).then(function(e){return e.json()}).then(function(e){return e.results}).then(function(e){return e.map(function(e){return n.createSliderCard(e)})}).then(function(e){var t;return(t=n.pagination.sliderContainer).append.apply(t,_toConsumableArray(e)),tns({container:".my-slider",items:3,slideBy:"page",autoplay:!0})()})}},{key:"fetchPopularFilmsList",value:function(){var n=this;return this.searchMode="popular",this.resetGalleryCard(),fetch("".concat(this.BASE_URL).concat(this.params.popularSearchUrl,"api_key=").concat(this.API_KEY,"&language=en-US&page=").concat(this.params._page)).then(function(e){return e.json()}).then(function(e){return n.setRatioButtons(e),e}).then(function(e){var t=e.results;return n.popularFilmItem=t}).then(function(e){return e.map(function(e){return n.createCardFunc(e)})}).then(function(e){var t;(t=n.pagination.cardContainer).append.apply(t,_toConsumableArray(e))}).finally(function(){n.pagination.cardContainer.classList.remove("is-hidden"),n.hideLoader()})}},{key:"fetchFilmsListByGenre",value:function(e){var n=this;return this.searchMode="popular",this.resetGalleryCard(),fetch("".concat(this.BASE_URL).concat(this.params.byGenreSearchUrl,"api_key=").concat(this.API_KEY,"&language=en-US&page=").concat(this.params._page,"&with_genres=").concat(e)).then(function(e){return e.json()}).then(function(e){return n.setRatioButtons(e),e}).then(function(e){var t=e.results;return n.popularFilmItem=t}).then(function(e){return e.map(function(e){return n.createCardFunc(e)})}).then(function(e){var t;return(t=MyApi.pagination.cardContainer).append.apply(t,_toConsumableArray(e))}).finally(function(){n.pagination.cardContainer.classList.remove("is-hidden"),n.hideLoader()})}},{key:"fetchGenres",value:function(){var n=this;return fetch("".concat(this.BASE_URL).concat(this.params.genreSearchUrl,"api_key=").concat(this.API_KEY)).then(function(e){return e.json()}).then(function(e){return n.setRatioButtons(e),e}).then(function(e){var t=e.genres;return n.genres=t}).finally(function(){n.pagination.cardContainer.classList.remove("is-hidden"),n.hideLoader()})}},{key:"fetchReviews",value:function(){var n=this;return fetch("".concat(this.VIDEO_BASE_URL).concat(this.movieID,"/reviews?api_key=").concat(this.API_KEY)).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){var t=e.results;return n.reviews=t.map(function(e){return[e.author_details.name,e.content]}).slice(0,5),n.reviews})}},{key:"fetchActors",value:function(){var t=this;return fetch("".concat(this.BASE_URL,"movie/").concat(this.movieID,"/credits?api_key=").concat(this.API_KEY)).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){return e.cast}).then(function(e){e.forEach(function(e){return t.actors.push(e.name),t.actors})})}},{key:"movieSearch",value:function(){var n=this;return this.searchMode="default",fetch("".concat(this.BASE_URL).concat(this.params.generalSearchUrl,"api_key=").concat(this.API_KEY,"&language=en-US&query=").concat(this.params.query,"&page=").concat(this.params._page)).then(function(e){return e.json()}).then(function(e){return n.setRatioButtons(e),e}).then(function(e){if(0===e.results.length)throw n.fetchPopularFilmsList(),Error("Sorry we dont watch this kind of movies!");return n.resetGalleryCard(),n.setRatioButtons(e),e}).then(function(e){var t=e.results;return n.popularFilmItem=t}).then(function(e){return e.map(function(e){return n.createCardFunc(e)})}).then(function(e){var t;return(t=MyApi.pagination.cardContainer).append.apply(t,_toConsumableArray(e))}).catch(function(e){return n.handlErrors(e)}).finally(function(){n.pagination.cardContainer.classList.remove("is-hidden"),n.hideLoader()})}},{key:"handlErrors",value:function(e){errorNotification.classList.remove("is-hidden"),errorNotification.textContent=e.message,setTimeout(function(){errorNotification.classList.add("is-hidden")},3e3)}},{key:"resetGalleryCard",value:function(){this.pagination.cardContainer.innerHTML="",reviewCard.innerHTML=""}},{key:"createSliderCard",value:function(e){var t=document.createElement("div");return t.classList.add("slider__item"),t.style.backgroundImage="url('".concat(MyApi.IMAGE_BASE_URL).concat(MyApi.imgCards.currentSizes.backdropSize).concat(e.poster_path,"')"),t}},{key:"createCardFunc",value:function(e,t){var n=this;main.classList.remove("is-hidden");var a=e.backdrop_path,i=e.title,r=e.id,o=e.vote_average,s=e.release_date,c=a?"".concat(MyApi.IMAGE_BASE_URL).concat(MyApi.imgCards.currentSizes.backdropSize).concat(a):MyApi.imgCards.defaultBackdropImg,l=s?"(".concat(s.slice(0,4),")"):"",d=document.createElement("img");d.setAttribute("src",c),d.classList.add("gallery__item-image"),d.setAttribute("alt",i);var u=document.createElement("div");u.classList.add("movie__image"),u.append(d);var f=document.createElement("p");f.classList.add("movie__title"),f.textContent="".concat(i," ").concat(l);var m=document.createElement("span");m.classList.add("movie__genre"),m.textContent="â˜†  "+"".concat(o);var p=document.createElement("div");p.classList.add("gallery__card-movie"),p.append(u,f,m);var h=document.createElement("li");return h.classList.add("gallery__list-item"),h.append(p),h.addEventListener("click",function(){n.movieID=r,n.pagination.cardContainer.classList.add("is-hidden"),n.activeLoader(),window.scrollTo(0,document.body.children[1].clientHeight),setTimeout(function(){n.activeDetailsPage(r,t)},2e3),n.fetchActors(n.movieID)}),h}},{key:"activeDetailsPage",value:function(t,e){var s=this;form.style.display="none",btnTop.classList.add("is-hidden"),this.movieID=t;var n=[];"Queue"===e?n=this.queueList:"Watched"===e?n=this.watchedList:e||(n=this.popularFilmItem);var a=n.filter(function(e){if(e.id===t)return e})[0],c=[];a.genre_ids.filter(function(e){var t=!0,n=!1,a=void 0;try{for(var i,r=s.genres[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;if(e===o.id)return c.push(o.name)}}catch(e){n=!0,a=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw a}}});var i=c.join(", "),r=document.createElement("td");r.textContent="genre";var o=document.createElement("td");o.textContent=i;var l=document.createElement("tr");l.append(r,o),l.classList.add("details-page__rows");var d=this.actors.slice(0,5).join(", "),u=document.createElement("td");u.textContent="actors";var f=document.createElement("td");f.textContent=d;var m=document.createElement("tr");m.append(u,f),m.classList.add("details-page__rows");var p=document.createElement("td");p.textContent="original title";var h=document.createElement("td");h.textContent=a.original_title;var v=document.createElement("tr");v.classList.add("details-page__rows"),v.append(p,h);var y=document.createElement("td");y.textContent="popularity";var g=document.createElement("td");g.textContent=a.popularity;var b=document.createElement("tr");b.classList.add("details-page__rows"),b.append(y,g);var L=document.createElement("td");L.textContent="vote / votes";var w=document.createElement("span");w.classList.add("rows__vote"),w.textContent=a.vote_average;var C=document.createElement("td");C.textContent="/ ".concat(a.vote_count),w.appendChild(C);var S=document.createElement("tr");S.classList.add("details-page__rows"),S.append(L,w);var E=document.createElement("table");E.classList.add("details-page__table"),E.append(S,b,v,l,m);var _=document.createElement("h2");_.classList.add("details-page__title"),_.textContent=a.title;var A=document.createElement("div");A.append(_,E);var M=document.createElement("div");M.classList.add("details-page__about");var x=document.createElement("h3");x.classList.add("details-page__title","second"),x.textContent="About";var T=document.createElement("p");T.classList.add("details-page__text"),T.textContent=a.overview;var k=document.createElement("h3");k.classList.add("details-page__title","second","reviews-title"),k.textContent="Reviews";var R=document.createElement("span");R.classList.add("material-icons","span-input"),R.textContent="input",k.append(R),this.fetchReviews(),k.addEventListener("click",function(){if(0!==s.reviews.length){detailsSection.classList.add("is-hidden");var e=document.createElement("button");e.classList.add("button__add","button-close","btn-reviews"),e.textContent="X",e.addEventListener("click",function(){detailsSection.classList.remove("is-hidden"),reviewCard.innerHTML=""}),reviewCard.append(e),s.reviews.map(function(e){""===e[0]&&(e[0]="anonim");var t=document.createElement("h3");t.classList.add("reviews-autor");var n=document.createElement("span");n.classList.add("material-icons","icons-face"),n.textContent="face";var a=document.createElement("p");a.classList.add("reviews-text"),t.textContent=e[0],a.textContent=e[1].split(" ").slice(0,100).join(" ")+"...",reviewCard.append(n,t,a),a.addEventListener("click",function(){a.textContent=e[1]})})}else k.textContent="Sorry, we dont have any reviews"}),M.append(x,T,k);var I=document.createElement("button");I.classList.add("button__add","first"),I.setAttribute("type","submite"),I.textContent="add to watched",I.addEventListener("click",this.onWatchedClick);var B=document.createElement("button");B.classList.add("button__add"),B.setAttribute("type","submite"),B.textContent="add to queue",B.addEventListener("click",this.onQueueClick);var P=document.createElement("button");P.classList.add("button__add"),P.setAttribute("type","submite"),P.textContent="watch the trailer",P.addEventListener("click",this.onTrailerClick);var H=document.createElement("div");H.classList.add("details-page__button"),H.append(I,B,P);var W=document.createElement("div");W.classList.add("details-page__description"),W.append(A,M,H);var q=document.createElement("img"),F=a.poster_path?"".concat(MyApi.IMAGE_BASE_URL).concat(MyApi.imgCards.currentSizes.posterSize).concat(a.poster_path):MyApi.DEFAULT_POSTER;q.setAttribute("src",F),q.setAttribute("alt",q.title),q.setAttribute("width","100%"),q.setAttribute("data","poster");var O=document.createElement("a");O.setAttribute("href","#"),O.appendChild(q);var N=document.createElement("button");N.classList.add("button__add","button-close"),N.textContent="X";var D=document.createElement("div");D.classList.add("details-page__foto"),D.append(O,N);var z=document.createElement("div");z.classList.add("container","details-page__film"),z.append(D,W),detailsSection.classList.remove("is-hidden"),detailsSection.appendChild(z),P.addEventListener("click",this.onTrailerClick),main.classList.add("is-hidden"),this.hideLoader(),btnAddWatched=I,btnAddQueue=B,selectFilm=a,monitorButtonStatusText(),N.addEventListener("click",function(){form.style.display="block",s.pagination.paginationContainer.classList.remove("is-hidden"),detailsSection.classList.add("is-hidden"),s.pagination.cardContainer.classList.remove("is-hidden"),btnTop.classList.remove("is-hidden"),detailsSection.innerHTML="",reviewCard.innerHTML="",main.classList.remove("is-hidden"),s.actors=[],"is-hidden"!=libraryFilrt.classList&&(btnQueue.disabled&&drawQueueFilmList(),btnWatched.disabled&&drawWatchedFilmList())})}},{key:"onTrailerClick",value:function(){openModal(event)}},{key:"onWatchedClick",value:function(){toggleToLocal(filmsWatchedKey)}},{key:"onQueueClick",value:function(){toggleToLocal(filmsQueueKey)}},{key:"setPrevNextButtons",value:function(e){var t=this,n=document.createElement("button"),a=document.createElement("button"),i=document.createElement("button"),r=document.createElement("button");i.textContent=">>",r.textContent="<<",i.classList.add("pagination__turning-btn"),r.classList.add("pagination__turning-btn"),n.textContent="<",n.classList.add("pagination__turning-btn"),a.textContent=">",a.classList.add("pagination__turning-btn"),1===this.page&&(n.classList.add("is-hidden"),r.classList.add("is-hidden"),r.disabled=!0),this.page===e.total_pages&&(a.classList.add("is-hidden"),i.classList.add("is-hidden")),window.innerWidth<400&&this.page<3&&r.classList.add("is-hidden"),this.page<4&&r.classList.add("is-hidden"),e.total_pages<6&&(r.classList.add("is-hidden"),i.classList.add("is-hidden"),a.classList.add("is-hidden")),n.addEventListener("click",function(){t.pagesScroll(),t.decrementPage()}),a.addEventListener("click",function(){t.incrementPage(),t.pagesScroll()}),r.addEventListener("click",function(){t.resetPage(),t.pagesScroll()}),i.addEventListener("click",function(){t.pagesScroll(),t.params._page=t.params.lastPage}),this.pagination.paginationContainer.prepend(r,n),this.pagination.paginationContainer.append(a,i)}},{key:"pagesScroll",value:function(){var e=this;this.activeLoader(),this.resetGalleryCard(),window.scrollTo(0,document.body.children[1].clientHeight),"popular"===this.searchMode?setTimeout(function(){e.fetchPopularFilmsList()},2e3):setTimeout(function(){e.movieSearch()},2e3)}},{key:"setRatioButtons",value:function(e){var t,n=this;window.innerWidth<400&&(this.pagination.window=3);var a=this.params._page-Math.floor(this.pagination.window/2),i=this.params._page+Math.floor(this.pagination.window/2);this.params.lastPage=e.total_pages,this.pagination.paginationContainer.innerHTML="",a<1&&(a=1,i=this.pagination.window),i>e.total_pages&&(a=this.params._page-(this.pagination.window-1),i=e.total_pages,a<1&&(a=1));for(var r=[],o=a;o<=i;o++){var s=document.createElement("button");s.textContent=o,s.classList.add("pagination__btn"),+s.textContent===this.params._page&&s.classList.add("active"),s.addEventListener("click",function(e){n.activeLoader(),window.scrollTo(0,document.body.children[1].clientHeight),n.page=+e.target.textContent,n.currentPage=n.page,n.pagination.cardContainer.innerHTML="","popular"===n.searchMode?setTimeout(function(){n.fetchPopularFilmsList()},2e3):setTimeout(function(){n.movieSearch()},2e3)}),r.push(s)}(t=this.pagination.paginationContainer).append.apply(t,r),"active"===this.loaderStatus&&button.classList.add("is-hidden"),this.setPrevNextButtons(e)}},{key:"incrementPage",value:function(){return this.params._page+=1}},{key:"decrementPage",value:function(){return this.params._page-=1}},{key:"resetPage",value:function(){return this.params._page=1}},{key:"checkBackdropImgSize",value:function(){return 1024<=window.innerWidth?(this.imgCards.currentSizes.backdropSize=this.imgCards.backdropSizes.desktop,void(this.imgCards.defaultBackdropImg=this.DEFAULT_IMAGE)):window.innerWidth<1024?(this.imgCards.currentSizes.backdropSize=this.imgCards.backdropSizes.tablet,void(this.imgCards.defaultBackdropImg=this.DEFAULT_IMAGE)):void 0}},{key:"checkPosterImgSize",value:function(){1200<=window.innerWidth&&(this.imgCards.currentSizes.posterSize=this.imgCards.posterSizes.desktop,this.imgCards.defaultPosterImg="../images/default_poster.jpg"),768<=window.innerWidth&&window.innerWidth<1200&&(this.imgCards.currentSizes.posterSize=this.imgCards.posterSizes.tablet,this.imgCards.defaultPosterImg="../images/default_poster.jpg"),window.innerWidth<768&&(this.imgCards.currentSizes.posterSize=this.imgCards.posterSizes.mobile,this.imgCards.defaultPosterImg="../images/default_poster.jpg")}},{key:"page",get:function(){return this.params._page},set:function(e){return this.params._page=e}}]),i}(),API_KEY="91085a172e1ffb2047d72641d0a91356",MyApi=new MovieApi(API_KEY,paginationWrapper,ulForCards,sliderContainer);function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}function handleScroll(){var e=document.body.scrollTop,t=document.documentElement.scrollTop;btnTop.style.display=500<e||500<t?"block":"none"}function onHandleTrailerError(){player.src="http://www.youtube.com/embed/Zq_zgig9DqQ?autoplay=1"}function openModal(e){e.preventDefault(),MyApi.fetchVideoById().then(function(e){player.src="http://www.youtube.com/embed/".concat(e,"?autoplay=1")}),backdrop.classList.remove("backdrop--hidden"),window.addEventListener("keydown",onKeybordPress)}function closeModal(){player.src="",backdrop.classList.add("backdrop--hidden"),window.removeEventListener("keydown",onKeybordPress)}function onKeybordPress(e){"Escape"===e.code&&closeModal()}function onBeckDropCkick(e){"DIV"===e.target.nodeName&&closeModal()}history.scrollRestoration="manual",MyApi.checkBackdropImgSize(),MyApi.checkPosterImgSize(),MyApi.fetchPopularFilmsList(),MyApi.dailyBestMovie(),MyApi.fetchGenres(),btnTop.addEventListener("click",function(){scrollToTop()}),window.onscroll=function(){parallaxCheck(),handleScroll()},backdrop.addEventListener("click",onBeckDropCkick),form.addEventListener("submit",function(e){e.preventDefault(),MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),MyApi.searchMode="default";var t=e.target.elements.query.value;if(""===t.trim())return alert("There is no nameless movies!");MyApi.params.query=t,setTimeout(function(){MyApi.movieSearch()},4e3),form.reset()});var btnAddQueue="",btnAddWatched="",selectFilm="";function monitorButtonStatusText(){var e=JSON.parse(localStorage.getItem(filmsQueueKey));null===e?btnAddQueue.textContent="Add to queue":e.find(function(e){return e.id===selectFilm.id})?btnAddQueue.textContent="Delete from queue":btnAddQueue.textContent="Add to queue";var t=JSON.parse(localStorage.getItem(filmsWatchedKey));null===t?btnAddWatched.textContent="Add to watched":t.find(function(e){return e.id===selectFilm.id})?btnAddWatched.textContent="Delete from watched":btnAddWatched.textContent="Add to watched"}function toggleToLocal(e){var t,n=JSON.parse(localStorage.getItem(e));function a(){n.push(selectFilm)}null===n?(n=[],a()):n.find(function(e){return e.id===selectFilm.id})?(t=selectFilm.id,n=n.filter(function(e){return e.id!=t})):a(),0===n.length?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(n)),monitorButtonStatusText()}btnQueue.addEventListener("click",drawQueueFilmList),btnWatched.addEventListener("click",drawWatchedFilmList),btnMyLibrary.addEventListener("click",openLibrary);var queue="You do not have to queue movies to watch. Add them.",watch="You do not have watched movies. Add them.",filmsQueueKey="filmsQueue",filmsWatchedKey="filmsWatched";function drawQueueFilmList(e){var t=localStorage.getItem(filmsQueueKey,e),n=JSON.parse(t);MyApi.pagination.cardContainer.classList.remove("is-hidden"),MyApi.queueList=n,MyApi.resetGalleryCard(),btnQueue.classList.add("active"),btnWatched.classList.remove("active"),btnWatched.disabled=!1,btnQueue.disabled=!0;null===n||0===n.length?createPlugTitle(queue,filmsLibrary):createParseFilms(n,filmsLibrary,"Queue")}function drawWatchedFilmList(e){var t=localStorage.getItem(filmsWatchedKey,e),n=JSON.parse(t);MyApi.pagination.cardContainer.classList.remove("is-hidden"),MyApi.watchedList=n,MyApi.resetGalleryCard(),btnQueue.classList.remove("active"),btnWatched.classList.add("active"),btnWatched.disabled=!0,btnQueue.disabled=!1;null===n||0===n.length?createPlugTitle(watch,filmsLibrary):createParseFilms(n,filmsLibrary,"Watched")}function createParseFilms(e,n,a){e.forEach(function(e){var t=MyApi.createCardFunc(e,a);return n.append(t),n})}var messageTitle=document.getElementsByClassName("message-title");function createPlugTitle(e,t){return 0===messageTitle.length?((messageTitle=document.createElement("h2")).textContent=e,messageTitle.classList.add("message-title"),t.insertAdjacentElement("beforebegin",messageTitle)):messageTitle.textContent=e,t}function openLibrary(){window.scrollTo({top:document.body.children[1].clientHeight,behavior:"smooth"}),MyApi.resetGalleryCard(),btnQueue.disabled=!1,btnWatched.disabled=!1,detailsSection.innerHTML="",paginationWrapper.innerHTML="",form.innerHTML="",libraryFilrt.classList.remove("is-hidden"),main.classList.remove("is-hidden")}btnMyLibrary.addEventListener("click",openLibrary);var searchGenre="";function drawFilmListByGenre(){var t,n;MyApi.fetchGenres().then(function(e){t=e}).then(function(){return t.forEach(function(e){e.name.toLowerCase()===searchGenre&&(n=e.id)})}).then(function(){return MyApi.fetchFilmsListByGenre(n)}).catch(console.log.bind(console))}function classToggle(){document.body.clientWidth<=320?logoText.classList.add("is-hidden"):logoText.classList.remove("is-hidden")}thrillerRef.addEventListener("click",function(){MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",searchGenre=thrillerRef.innerHTML.toLowerCase(),thrillerRef.classList.add("current"),comedyRef.classList.remove("current"),animationRef.classList.remove("current"),actionRef.classList.remove("current"),westernRef.classList.remove("current"),fantasyRef.classList.remove("current"),dramaRef.classList.remove("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),comedyRef.addEventListener("click",function(){MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",searchGenre=comedyRef.innerHTML.toLowerCase(),thrillerRef.classList.remove("current"),comedyRef.classList.add("current"),animationRef.classList.remove("current"),actionRef.classList.remove("current"),westernRef.classList.remove("current"),fantasyRef.classList.remove("current"),dramaRef.classList.remove("current")}),comedyRef.addEventListener("click",drawFilmListByGenre),actionRef.addEventListener("click",function(){setTimeout(function(){drawFilmListByGenre()},2e3)}),actionRef.addEventListener("click",function(){MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",searchGenre=actionRef.innerHTML.toLowerCase(),thrillerRef.classList.remove("current"),comedyRef.classList.remove("current"),animationRef.classList.remove("current"),actionRef.classList.add("current"),westernRef.classList.remove("current"),fantasyRef.classList.remove("current"),dramaRef.classList.remove("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),animationRef.addEventListener("click",function(){MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",searchGenre=animationRef.innerHTML.toLowerCase(),thrillerRef.classList.remove("current"),comedyRef.classList.remove("current"),animationRef.classList.add("current"),actionRef.classList.remove("current"),westernRef.classList.remove("current"),fantasyRef.classList.remove("current"),dramaRef.classList.remove("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),westernRef.addEventListener("click",function(){MyApi.resetGalleryCard(),MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",searchGenre=westernRef.innerHTML.toLowerCase(),thrillerRef.classList.remove("current"),comedyRef.classList.remove("current"),animationRef.classList.remove("current"),actionRef.classList.remove("current"),westernRef.classList.add("current"),fantasyRef.classList.remove("current"),dramaRef.classList.remove("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),fantasyRef.addEventListener("click",function(){MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",searchGenre=fantasyRef.innerHTML.toLowerCase(),thrillerRef.classList.remove("current"),comedyRef.classList.remove("current"),animationRef.classList.remove("current"),actionRef.classList.remove("current"),westernRef.classList.remove("current"),fantasyRef.classList.add("current"),dramaRef.classList.remove("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),dramaRef.addEventListener("click",function(){MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",searchGenre=dramaRef.innerHTML.toLowerCase(),thrillerRef.classList.remove("current"),comedyRef.classList.remove("current"),animationRef.classList.remove("current"),actionRef.classList.remove("current"),westernRef.classList.remove("current"),fantasyRef.classList.remove("current"),dramaRef.classList.add("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),classToggle(),window.addEventListener("resize",function(){document.body.clientWidth<=320?logoText.classList.add("is-hidden"):logoText.classList.remove("is-hidden")});